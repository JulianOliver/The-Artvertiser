<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>bazar: /home/julian/devel/artvertiser/garfeild/viewsets/planar_object_recognizer.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1be09642b1728ac69a5f1a111e5847b4.html">garfeild</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_b4d8dc3ff526980d359e82a90f85d94a.html">viewsets</a>
  </div>
</div>
<div class="contents">
<h1>planar_object_recognizer.h</h1><a href="planar__object__recognizer_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">Copyright 2005, 2006 Computer Vision Lab, </span>
<a name="l00003"></a>00003 <span class="comment">Ecole Polytechnique Federale de Lausanne (EPFL), Switzerland. </span>
<a name="l00004"></a>00004 <span class="comment">All rights reserved.</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">This file is part of BazAR.</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">BazAR is free software; you can redistribute it and/or modify it under the</span>
<a name="l00009"></a>00009 <span class="comment">terms of the GNU General Public License as published by the Free Software</span>
<a name="l00010"></a>00010 <span class="comment">Foundation; either version 2 of the License, or (at your option) any later</span>
<a name="l00011"></a>00011 <span class="comment">version.</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">BazAR is distributed in the hope that it will be useful, but WITHOUT ANY</span>
<a name="l00014"></a>00014 <span class="comment">WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A</span>
<a name="l00015"></a>00015 <span class="comment">PARTICULAR PURPOSE. See the GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">You should have received a copy of the GNU General Public License along with</span>
<a name="l00018"></a>00018 <span class="comment">BazAR; if not, write to the Free Software Foundation, Inc., 51 Franklin</span>
<a name="l00019"></a>00019 <span class="comment">Street, Fifth Floor, Boston, MA 02110-1301, USA </span>
<a name="l00020"></a>00020 <span class="comment">*/</span>
<a name="l00021"></a>00021 <span class="preprocessor">#ifndef PLANAR_OBJECT_RECOGNIZER_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#define PLANAR_OBJECT_RECOGNIZER_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="keypoint_8h.html">keypoints/keypoint.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="yape_8h.html">keypoints/yape.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="starter_8h.html">starter.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="affine__image__generator_8h.html">affine_image_generator.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="object__view_8h.html">object_view.h</a>"</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include "<a class="code" href="image__classification__forest_8h.html">image_classification_forest.h</a>"</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="image__object__point__match_8h.html">image_object_point_match.h</a>"</span>
<a name="l00031"></a>00031 
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00040"></a><a class="code" href="group__viewsets.html#ge4b83a675a7d1aca19304d8451c2b9c4">00040</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="group__viewsets.html#ge4b83a675a7d1aca19304d8451c2b9c4">hard_max_detected_pts</a> = 5000;
<a name="l00041"></a>00041 
<a name="l00049"></a><a class="code" href="classplanar__object__recognizer.html">00049</a> <span class="keyword">class </span><a class="code" href="classplanar__object__recognizer.html" title="Planar object detector.">planar_object_recognizer</a>
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051 <span class="keyword">public</span>:
<a name="l00053"></a>00053   <a class="code" href="classplanar__object__recognizer.html#1ef384c9ffe63bc8b1f565d5a4ef45d1" title="empty constructor. call build, load or buildWithCache before use">planar_object_recognizer</a>();
<a name="l00054"></a>00054 
<a name="l00056"></a>00056   <a class="code" href="classplanar__object__recognizer.html#1ef384c9ffe63bc8b1f565d5a4ef45d1" title="empty constructor. call build, load or buildWithCache before use">planar_object_recognizer</a>(<span class="keywordtype">string</span> directory_name);
<a name="l00057"></a>00057 
<a name="l00058"></a>00058   <a class="code" href="classplanar__object__recognizer.html#8892a1c245d5cad24eeb814b155eb511">~planar_object_recognizer</a>(<span class="keywordtype">void</span>);
<a name="l00059"></a>00059 
<a name="l00062"></a>00062   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#5ac60cd9f66d9c9c305e6287b363d89d" title="Build the model and save it on disk.">build_with_cache</a>(<span class="keywordtype">string</span> filename, <span class="keywordtype">int</span> max_point_number_on_model,
<a name="l00063"></a>00063                         <span class="keywordtype">int</span> patch_size, <span class="keywordtype">int</span> yape_radius, 
<a name="l00064"></a>00064                         <span class="keywordtype">int</span> tree_number, <span class="keywordtype">int</span> nbLev,
<a name="l00065"></a>00065                         <a class="code" href="group__viewsets.html#gbb7a5a606c77b59da90f7e4cfdd49882">LEARNPROGRESSION</a> LearnProgress=0);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#c6546dd24faa47e7979d31ac2e6b2616">build</a>(IplImage *model_image,
<a name="l00068"></a>00068                   <span class="keywordtype">int</span> max_point_number_on_model, <span class="keywordtype">int</span> patch_size,
<a name="l00069"></a>00069                   <span class="keywordtype">int</span> yape_radius, <span class="keywordtype">int</span> tree_number, <span class="keywordtype">int</span> nbLev, 
<a name="l00070"></a>00070                   <a class="code" href="group__viewsets.html#gbb7a5a606c77b59da90f7e4cfdd49882">LEARNPROGRESSION</a> LearnProgress=0, <span class="keywordtype">int</span> *roi=0);
<a name="l00072"></a>00072 
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="classplanar__object__recognizer.html#4639bf9dcdee4fece328f872e65a364b">00075</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#4639bf9dcdee4fece328f872e65a364b" title="Activate bins when detecting model points (Default).">use_bins_when_creating_model_points</a>(<span class="keywordtype">void</span>) { <a class="code" href="classplanar__object__recognizer.html#e58f2f70459af79756c48bdddbbd1daa">use_bins_for_model_points</a> = <span class="keyword">true</span>; } 
<a name="l00077"></a><a class="code" href="classplanar__object__recognizer.html#e64a4af17b27685cd78e5a569832b869">00077</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#e64a4af17b27685cd78e5a569832b869" title="Disactivate bins when detecting model points.">dont_use_bins_when_creating_model_points</a>(<span class="keywordtype">void</span>) { <a class="code" href="classplanar__object__recognizer.html#e58f2f70459af79756c48bdddbbd1daa">use_bins_for_model_points</a> = <span class="keyword">false</span>; }
<a name="l00078"></a>00078 
<a name="l00080"></a><a class="code" href="classplanar__object__recognizer.html#e9cb0175817e23e1ba1d4409f34cfc92">00080</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#e9cb0175817e23e1ba1d4409f34cfc92" title="Activate bins when detecting input image points (Default).">use_bins_when_detecting_input_image_points</a>(<span class="keywordtype">void</span>) { <a class="code" href="classplanar__object__recognizer.html#58d97a9eb2de3fb4078609d04f01471b">use_bins_for_input_image</a> = <span class="keyword">true</span>; } 
<a name="l00082"></a><a class="code" href="classplanar__object__recognizer.html#5863a1d271b5433da870f7acc8d7fe76">00082</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#5863a1d271b5433da870f7acc8d7fe76" title="Disactivate bins when detecting model points.">dont_use_bins_when_detecting_input_image_points</a>(<span class="keywordtype">void</span>) { <a class="code" href="classplanar__object__recognizer.html#58d97a9eb2de3fb4078609d04f01471b">use_bins_for_input_image</a> = <span class="keyword">false</span>; }
<a name="l00083"></a>00083 
<a name="l00085"></a>00085   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#54eeec4d905355d0ef5169ae53aeb5d9" title="Default = 20.">set_noise_level</a>(<span class="keywordtype">int</span> noise_level);
<a name="l00086"></a>00086 
<a name="l00088"></a>00088   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#bd1d747fabc09fbe3d56d2b59335689d" title="Default = false;.">set_use_random_background</a>(<span class="keywordtype">bool</span> use_random_background);
<a name="l00089"></a>00089 
<a name="l00091"></a>00091   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#348e6953334547977db78c3129563398" title="Global rotation. Default = [0 : 2Pi].">set_range_variation_for_theta</a>(<span class="keywordtype">float</span> min_theta, <span class="keywordtype">float</span> max_theta);
<a name="l00093"></a>00093   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#2ec0a0874c2db057ba040478a644a739" title="Skew. Default = [0 : Pi].">set_range_variation_for_phi</a>(<span class="keywordtype">float</span> min_phi, <span class="keywordtype">float</span> max_phi);
<a name="l00094"></a>00094 
<a name="l00096"></a>00096   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#c3f7ca5abb676e695f1afc5af7519b1a" title="Default method. Between 0.5 : 1.5 for both.">independent_scaling</a>(<span class="keywordtype">float</span> min_lambda1, <span class="keywordtype">float</span> max_lambda1, <span class="keywordtype">float</span> min_lambda2, <span class="keywordtype">float</span> max_lambda2);
<a name="l00098"></a>00098   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#ce871cf493235f20b82f529f07750561" title="Constrained scaling. Adds a constraint on the range of the product of l1 and l2.">constrained_scaling</a>(<span class="keywordtype">float</span> min_lambda1, <span class="keywordtype">float</span> max_lambda1, 
<a name="l00099"></a>00099                            <span class="keywordtype">float</span> min_lambda2, <span class="keywordtype">float</span> max_lambda2,
<a name="l00100"></a>00100                            <span class="keywordtype">float</span> min_l1_l2, <span class="keywordtype">float</span> max_l1_l2);
<a name="l00101"></a>00101 
<a name="l00103"></a>00103   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#5a1e097ff6aa1bfdaadd092a07a6333f" title="Default method.">use_orientation_correction</a>(<span class="keywordtype">void</span>);
<a name="l00104"></a>00104   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#8de90fc53d106eac9cc6efa35d54d39a">dont_use_orientation_correction</a>(<span class="keywordtype">void</span>);
<a name="l00105"></a>00105 
<a name="l00107"></a><a class="code" href="classplanar__object__recognizer.html#89adb7c68897838db1599ca8d987bd67">00107</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#89adb7c68897838db1599ca8d987bd67" title="Default = 10.">set_max_depth</a>(<span class="keywordtype">int</span> p_max_depth) { <a class="code" href="classplanar__object__recognizer.html#ca420dc1bd69cc3d05826b0f5aec22c8">max_depth</a> = p_max_depth; }
<a name="l00108"></a>00108 
<a name="l00110"></a><a class="code" href="classplanar__object__recognizer.html#57b0a054491f9985295db0d59f6ccdea">00110</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#57b0a054491f9985295db0d59f6ccdea" title="Sample number for the refine step (default = 1000):.">set_sample_number_for_refining</a>(<span class="keywordtype">int</span> sample_number) { <a class="code" href="classplanar__object__recognizer.html#f24c850ebe10ef0d2c203e44668275fa">sample_number_for_refining</a> = sample_number; }
<a name="l00111"></a><a class="code" href="classplanar__object__recognizer.html#f24c850ebe10ef0d2c203e44668275fa">00111</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#f24c850ebe10ef0d2c203e44668275fa">sample_number_for_refining</a>;
<a name="l00113"></a>00113 
<a name="l00115"></a>00115   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#8c13521400e09af1a7dc6b28118c8d72" title="Create the point recognizer (see forest field).">learn</a>(<span class="keywordtype">int</span> max_point_number_on_model, 
<a name="l00116"></a>00116              <span class="keywordtype">int</span> patch_size, <span class="keywordtype">int</span> yape_radius, 
<a name="l00117"></a>00117              <span class="keywordtype">int</span> tree_number, <span class="keywordtype">int</span> nbLev=5, 
<a name="l00118"></a>00118              <a class="code" href="group__viewsets.html#gbb7a5a606c77b59da90f7e4cfdd49882">LEARNPROGRESSION</a> LearnProgress=0);
<a name="l00119"></a>00119 
<a name="l00121"></a>00121   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#f46dace241bb1caa0fa4da3dd7b4d40b" title="Save data in the given directory. The directory must exist.">save</a>(<span class="keywordtype">string</span> directory_name);
<a name="l00122"></a>00122 
<a name="l00125"></a>00125   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#46d52e6f541ff79d1ce6a55e7451cc99" title="load data from a given directory.">load</a>(<span class="keywordtype">string</span> directory_name);
<a name="l00126"></a>00126 
<a name="l00140"></a>00140   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#60f13a77ecd6a93bbf9b944b56a2c713" title="Detect the object in the given input image.">detect</a>(IplImage * input_image);
<a name="l00141"></a>00141 
<a name="l00143"></a>00143   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#f4946c3b70dc0b57c3e6606106156907" title="set the maximum number of points we want to detect">set_max_detected_pts</a>(<span class="keywordtype">int</span> max);
<a name="l00144"></a>00144 
<a name="l00146"></a>00146 
<a name="l00148"></a>00148   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#dcb6bcd3e0c93d4d4205e08918918c97">detect_points</a>(IplImage * input_image);
<a name="l00149"></a>00149   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#048fdc81690c7f1ed9b0df299563601b">preprocess_points</a>(<span class="keywordtype">void</span>);
<a name="l00150"></a>00150   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#06c7548ab3f418fa703028b9b3b40155">match_points</a>(<span class="keywordtype">bool</span> fill_match_struct = <span class="keyword">true</span>);
<a name="l00151"></a>00151   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#d5653343c7a259d3f5494bb6d3b62776">estimate_affine_transformation</a>(<span class="keywordtype">void</span>);
<a name="l00152"></a>00152   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#a470957ad6df91fabe1960baf216ae05">estimate_homographic_transformation_linear_method</a>(<span class="keywordtype">void</span>);
<a name="l00153"></a>00153   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#9cadb4fb9252e805f76229cda49393e7">estimate_homographic_transformation_nonlinear_method</a>(<span class="keywordtype">void</span>);
<a name="l00155"></a>00155 
<a name="l00159"></a><a class="code" href="classplanar__object__recognizer.html#26b32f72b36562d83b8f86984703a5a7">00159</a>   <a class="code" href="classobject__keypoint.html">object_keypoint</a> * <a class="code" href="classplanar__object__recognizer.html#26b32f72b36562d83b8f86984703a5a7" title="keypoints on the object.">model_points</a>;
<a name="l00160"></a><a class="code" href="classplanar__object__recognizer.html#f9b6efc3f808e5584ee259ce8cad8eb0">00160</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#f9b6efc3f808e5584ee259ce8cad8eb0">model_point_number</a>;
<a name="l00161"></a>00161 
<a name="l00163"></a><a class="code" href="classplanar__object__recognizer.html#854468a3cbbb8d78eba752d1d4c63aeb">00163</a>   <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> *<a class="code" href="classplanar__object__recognizer.html#854468a3cbbb8d78eba752d1d4c63aeb" title="Detected keypoints in the input image.">detected_points</a>;
<a name="l00164"></a><a class="code" href="classplanar__object__recognizer.html#14ef9938ff1606c628ac4161fac1b7ca">00164</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#14ef9938ff1606c628ac4161fac1b7ca">detected_point_number</a>;
<a name="l00165"></a><a class="code" href="classplanar__object__recognizer.html#6426c5fd9512e4483eb42a95a0c2f09c">00165</a>   <a class="code" href="classimage__class__example.html" title="A representant of an image class.">image_class_example</a> *<a class="code" href="classplanar__object__recognizer.html#6426c5fd9512e4483eb42a95a0c2f09c">detected_point_views</a>;
<a name="l00166"></a>00166 
<a name="l00168"></a><a class="code" href="classplanar__object__recognizer.html#c42cd9347967dbaaafd7b19618b1871e">00168</a>   <span class="keywordtype">float</span> * <a class="code" href="classplanar__object__recognizer.html#c42cd9347967dbaaafd7b19618b1871e" title="Match probabilities for each detected keypoint.">match_probabilities</a>[<a class="code" href="group__viewsets.html#ge4b83a675a7d1aca19304d8451c2b9c4">hard_max_detected_pts</a>];
<a name="l00170"></a><a class="code" href="classplanar__object__recognizer.html#c79310997067d6ce3e3129a992f47222">00170</a>   <a class="code" href="classimage__object__point__match.html">image_object_point_match</a> <a class="code" href="classplanar__object__recognizer.html#c79310997067d6ce3e3129a992f47222" title="Matches between the detected keypoints, and the model keypoints.">matches</a>[<a class="code" href="group__viewsets.html#ge4b83a675a7d1aca19304d8451c2b9c4">hard_max_detected_pts</a>];
<a name="l00171"></a><a class="code" href="classplanar__object__recognizer.html#607d0e86c0cfe7c16ae702b5d4b314fc">00171</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#607d0e86c0cfe7c16ae702b5d4b314fc">match_number</a>;
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classplanar__object__recognizer.html#e1759d6301432906974c484e2de82145">00173</a>   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#e1759d6301432906974c484e2de82145">object_is_detected</a>;
<a name="l00174"></a><a class="code" href="classplanar__object__recognizer.html#e3962edf092390494ab1602e9d12cac8">00174</a>   <a class="code" href="classaffinity.html">affinity</a> * <a class="code" href="classplanar__object__recognizer.html#e3962edf092390494ab1602e9d12cac8">affine_motion</a>;
<a name="l00175"></a><a class="code" href="classplanar__object__recognizer.html#a2a45489406e7b6c4345db7987830891">00175</a>   <a class="code" href="classhomography.html" title="Static class for the estimation of homographies.Provides functions to estimate the...">homography</a> * <a class="code" href="classplanar__object__recognizer.html#a2a45489406e7b6c4345db7987830891">H</a>;
<a name="l00176"></a><a class="code" href="classplanar__object__recognizer.html#eec73bc56bb63fa52437652a41be7716">00176</a>   <a class="code" href="classls__minimizer2.html">ls_minimizer2</a> * <a class="code" href="classplanar__object__recognizer.html#eec73bc56bb63fa52437652a41be7716">homography_estimator</a>;
<a name="l00177"></a><a class="code" href="classplanar__object__recognizer.html#64bd8ce2f2851b1ab89a49163b90c759">00177</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#a146a122baaf12a6ae5363e8ca89d935">detected_u_corner1</a>, <a class="code" href="classplanar__object__recognizer.html#64bd8ce2f2851b1ab89a49163b90c759">detected_v_corner1</a>;
<a name="l00178"></a><a class="code" href="classplanar__object__recognizer.html#a5ba781303bcfa69b96ee1b741ad456b">00178</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#fbe61b9e5197b2f9d4ced4324118a4fd">detected_u_corner2</a>, <a class="code" href="classplanar__object__recognizer.html#a5ba781303bcfa69b96ee1b741ad456b">detected_v_corner2</a>;
<a name="l00179"></a><a class="code" href="classplanar__object__recognizer.html#f6772a2a14c249212404d01de649075b">00179</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#50a31464a58aa779bdd1b2b2d3ce5a30">detected_u_corner3</a>, <a class="code" href="classplanar__object__recognizer.html#f6772a2a14c249212404d01de649075b">detected_v_corner3</a>;
<a name="l00180"></a><a class="code" href="classplanar__object__recognizer.html#f7f2e2c1cae0b1011cfda8be644a906d">00180</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#c62a52d1a4166416d40f6273ccfe1706">detected_u_corner4</a>, <a class="code" href="classplanar__object__recognizer.html#f7f2e2c1cae0b1011cfda8be644a906d">detected_v_corner4</a>;
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="classplanar__object__recognizer.html#f055fca5ce186b059a81d29c37534199">00182</a>   <a class="code" href="classpyr__yape.html" title="Pyramidal YAPE (Feature point extractor).">pyr_yape</a> * <a class="code" href="classplanar__object__recognizer.html#f055fca5ce186b059a81d29c37534199">point_detector</a>;
<a name="l00183"></a>00183 
<a name="l00185"></a>00185   IplImage * <a class="code" href="classplanar__object__recognizer.html#7524db46f10af666f63214712240248c" title="For visualization.">create_result_image</a>(IplImage * input_image, 
<a name="l00186"></a>00186     <span class="keywordtype">bool</span> p_draw_points, <span class="keywordtype">bool</span> p_draw_matches, 
<a name="l00187"></a>00187     <span class="keywordtype">bool</span> p_draw_object, <span class="keywordtype">bool</span> p_draw_model_image,
<a name="l00188"></a>00188     <span class="keywordtype">int</span> line_width = 2);
<a name="l00189"></a>00189 
<a name="l00192"></a><a class="code" href="classplanar__object__recognizer.html#fe9f9b311d887bb996d2ee7fcc2bb395">00192</a>   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#fe9f9b311d887bb996d2ee7fcc2bb395" title="For debugging: save generated patches for a particular point in dir patches, before...">debug_model_point</a>(<span class="keywordtype">int</span> p_index_of_model_point_to_debug) 
<a name="l00193"></a>00193   { <a class="code" href="classplanar__object__recognizer.html#8fa93660e47bd5c867d07d42c04e777a">index_of_model_point_to_debug</a> = p_index_of_model_point_to_debug; }
<a name="l00194"></a>00194 
<a name="l00196"></a>00196   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#412b6b24cff95c30130ec36e376695de" title="For debugging: save one image per match in dir matches.">save_one_image_per_match</a>(IplImage * input_image, <span class="keyword">const</span> <span class="keywordtype">char</span> * matches_dir);
<a name="l00197"></a>00197   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#0d698e354851bef000f90ee178751eef">save_one_image_per_match_model_to_input</a>(IplImage * input_image, <span class="keyword">const</span> <span class="keywordtype">char</span> * matches_dir);
<a name="l00198"></a>00198   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#3e11945e4cec385c4051e9177439c87b">save_one_image_per_match_input_to_model</a>(IplImage * input_image, <span class="keyword">const</span> <span class="keywordtype">char</span> * matches_dir);
<a name="l00199"></a>00199 
<a name="l00201"></a>00201 
<a name="l00203"></a>00203   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#e33e2c31ba55f8f1b0774674194d21c6" title="Function called by the 2 constructors.">initialize</a>(<span class="keywordtype">void</span>);
<a name="l00204"></a>00204 
<a name="l00205"></a><a class="code" href="classplanar__object__recognizer.html#02f899f8bc2efb3d5a066d1a6edd97c4">00205</a>   <a class="code" href="classaffine__image__generator.html" title="An affine image generator.">affine_image_generator</a> <a class="code" href="classplanar__object__recognizer.html#02f899f8bc2efb3d5a066d1a6edd97c4">new_images_generator</a>;
<a name="l00206"></a>00206 
<a name="l00207"></a><a class="code" href="classplanar__object__recognizer.html#03363137552834803f0431c719a84278">00207</a>   <a class="code" href="classobject__view.html">object_view</a> * <a class="code" href="classplanar__object__recognizer.html#03363137552834803f0431c719a84278">object_input_view</a>;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   pair&lt;object_keypoint, int&gt; * <a class="code" href="classplanar__object__recognizer.html#5f8ae9d7476058a30741a1cab8c01a50">search_for_existing_model_point</a>(vector&lt; pair&lt;object_keypoint, int&gt; &gt; * tmp_model_points,
<a name="l00210"></a>00210     <span class="keywordtype">float</span> cu, <span class="keywordtype">float</span> cv, <span class="keywordtype">int</span> scale);
<a name="l00211"></a>00211   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#cb665fcdc265ad6316e964d4a3fa9470">detect_most_stable_model_points</a>(<span class="keywordtype">int</span> max_point_number_on_model, 
<a name="l00212"></a>00212                                        <span class="keywordtype">int</span> patch_size, <span class="keywordtype">int</span> view_number, 
<a name="l00213"></a>00213                                        <span class="keywordtype">double</span> <a class="code" href="classplanar__object__recognizer.html#5c7aecba16c14651ab207c33bdc813bb" title="minimum visible rate for determining stable keypoints">min_view_rate</a>, 
<a name="l00214"></a>00214                                        <a class="code" href="group__viewsets.html#gbb7a5a606c77b59da90f7e4cfdd49882">LEARNPROGRESSION</a> LearnProgress=0);
<a name="l00215"></a>00215   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#73c23119050227997f3f3e6cfc518623">save_image_of_model_points</a>(<span class="keywordtype">int</span> patch_size, <span class="keywordtype">char</span> * filename = 0);
<a name="l00216"></a>00216 
<a name="l00218"></a><a class="code" href="classplanar__object__recognizer.html#cc6fee41f06769a604549c949e6609fa">00218</a>   <a class="code" href="classimage__classification__forest.html" title="Set of classifier trees.">image_classification_forest</a> * <a class="code" href="classplanar__object__recognizer.html#cc6fee41f06769a604549c949e6609fa" title="Image classifier.">forest</a>;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220   <span class="comment">// For position estimation:</span>
<a name="l00221"></a>00221   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#763c67e5fc581ffd4f2c9c2f794a6d25">compute_support_for_affine_transformation</a>(<a class="code" href="classaffinity.html">affinity</a> * A);
<a name="l00222"></a>00222   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#d62dcf2f19f5bd8175e2d8624d559c06">three_random_correspondences</a>(<span class="keywordtype">int</span> * n1, <span class="keywordtype">int</span> * n2, <span class="keywordtype">int</span> * n3);
<a name="l00223"></a>00223   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#5595d3609807d36e37f84a96062fbfe8">valid</a>(<a class="code" href="classaffinity.html">affinity</a> * A);
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="classplanar__object__recognizer.html#3336fb39472f82109269c2a254878667">00225</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#3336fb39472f82109269c2a254878667">max_detected_pts</a>;
<a name="l00226"></a><a class="code" href="classplanar__object__recognizer.html#ca420dc1bd69cc3d05826b0f5aec22c8">00226</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#ca420dc1bd69cc3d05826b0f5aec22c8">max_depth</a>;
<a name="l00227"></a>00227 
<a name="l00230"></a>00230   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#c26c7843fe586682d6733be34b5b5043" title="Some parameters for fine tuning: Called by the 2 constructors.">default_settings</a>(<span class="keywordtype">void</span>);
<a name="l00231"></a><a class="code" href="classplanar__object__recognizer.html#e58f2f70459af79756c48bdddbbd1daa">00231</a>   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#e58f2f70459af79756c48bdddbbd1daa">use_bins_for_model_points</a>;
<a name="l00232"></a><a class="code" href="classplanar__object__recognizer.html#58d97a9eb2de3fb4078609d04f01471b">00232</a>   <span class="keywordtype">bool</span> <a class="code" href="classplanar__object__recognizer.html#58d97a9eb2de3fb4078609d04f01471b">use_bins_for_input_image</a>;
<a name="l00233"></a><a class="code" href="classplanar__object__recognizer.html#8fa93660e47bd5c867d07d42c04e777a">00233</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#8fa93660e47bd5c867d07d42c04e777a">index_of_model_point_to_debug</a>;
<a name="l00234"></a>00234 
<a name="l00236"></a><a class="code" href="classplanar__object__recognizer.html#a5b1add9bbdf34071f7a4f450100e0fa">00236</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#a5b1add9bbdf34071f7a4f450100e0fa" title="number of generated views for finding stable points">views_number</a>; 
<a name="l00237"></a>00237 
<a name="l00239"></a><a class="code" href="classplanar__object__recognizer.html#5c7aecba16c14651ab207c33bdc813bb">00239</a>   <span class="keywordtype">double</span> <a class="code" href="classplanar__object__recognizer.html#5c7aecba16c14651ab207c33bdc813bb" title="minimum visible rate for determining stable keypoints">min_view_rate</a>;
<a name="l00240"></a>00240 
<a name="l00244"></a><a class="code" href="classplanar__object__recognizer.html#00c8b619b69fea6c76faa1420cb06b6a">00244</a>   <span class="keywordtype">double</span> <a class="code" href="classplanar__object__recognizer.html#00c8b619b69fea6c76faa1420cb06b6a">keypoint_distance_threshold</a>;
<a name="l00245"></a>00245 
<a name="l00249"></a><a class="code" href="classplanar__object__recognizer.html#f4720fd5cf97d20a7ecde592bc99ab48">00249</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#f4720fd5cf97d20a7ecde592bc99ab48">match_score_threshold</a>;
<a name="l00250"></a>00250 
<a name="l00253"></a><a class="code" href="classplanar__object__recognizer.html#9ef36e25b571f9168e4b3815ad67f5ec">00253</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#9ef36e25b571f9168e4b3815ad67f5ec">ransac_dist_threshold</a>;
<a name="l00254"></a>00254 
<a name="l00256"></a><a class="code" href="classplanar__object__recognizer.html#c95ddb3299f7841ccd9547dbd5b71e71">00256</a>   <span class="keywordtype">float</span> <a class="code" href="classplanar__object__recognizer.html#c95ddb3299f7841ccd9547dbd5b71e71" title="Distance threshold, in pixels, for non-linear refinement.">non_linear_refine_threshold</a>;
<a name="l00257"></a>00257 
<a name="l00259"></a><a class="code" href="classplanar__object__recognizer.html#eef6bb7f208f8afe4acc6aeb998750dc">00259</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#eef6bb7f208f8afe4acc6aeb998750dc" title="maximum iteration number for RANSAC">max_ransac_iterations</a>;
<a name="l00260"></a>00260 
<a name="l00264"></a><a class="code" href="classplanar__object__recognizer.html#cdfa701a7c13c15ba9172116d887d08c">00264</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#cdfa701a7c13c15ba9172116d887d08c">ransac_stop_support</a>;
<a name="l00265"></a>00265 
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#b5b346995c7edbfb4b83f70fc4ad0189" title="The following functions are useful for visualization only:.">save_patch_before_and_after_correction</a>(IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>,
<a name="l00269"></a>00269                                               <span class="keywordtype">int</span> u, <span class="keywordtype">int</span> v, <span class="keywordtype">int</span> patch_size,
<a name="l00270"></a>00270                                               <a class="code" href="classimage__class__example.html" title="A representant of an image class.">image_class_example</a> * pv,
<a name="l00271"></a>00271                                               <span class="keywordtype">int</span> point_index, 
<a name="l00272"></a>00272                                               <span class="keywordtype">int</span> call_number);
<a name="l00273"></a>00273   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#1239240b81d087fe36840dd14f4cb7bd">concat_model_and_input_images</a>(IplImage * input_image, <span class="keywordtype">bool</span> p_draw_model_image = <span class="keyword">true</span>);
<a name="l00274"></a>00274   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#fb570d1588c9047aa8c0bc9e23b69623">draw_points</a>(<span class="keywordtype">int</span> line_width = 1);
<a name="l00275"></a>00275   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#6bdb5393885febde954273305c64859a">draw_model_points</a>(<span class="keywordtype">int</span> line_width = 1);
<a name="l00276"></a>00276   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#3ebce2747ee0e936c5c0fc3c52447cfe">draw_input_image_points</a>(<span class="keywordtype">int</span> line_width = 1);
<a name="l00277"></a>00277   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#bc890f47fe22aadab6aa83cfb42b5cc8">draw_matches</a>(<span class="keywordtype">int</span> line_width = 2);
<a name="l00278"></a>00278   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#b588283f7a90c74617f6d60084ad2b31">draw_inlier_matches</a>(<span class="keywordtype">int</span> line_width = 1);
<a name="l00279"></a>00279   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#1246323d74f7ffc3863e711c6b23e50b">draw_model</a>(<span class="keywordtype">void</span>);
<a name="l00280"></a><a class="code" href="classplanar__object__recognizer.html#efa6779f545338bd77fe2beada4bea06">00280</a>   IplImage * <a class="code" href="classplanar__object__recognizer.html#efa6779f545338bd77fe2beada4bea06">model_and_input_images</a>;
<a name="l00281"></a><a class="code" href="classplanar__object__recognizer.html#5a75bbe6a8c887868f5a0b7b268ef54a">00281</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#a43c67580059f5f4a02a6317dc4d5cfc">x0</a>, <a class="code" href="classplanar__object__recognizer.html#5a75bbe6a8c887868f5a0b7b268ef54a">y0</a>; <span class="comment">// up left corner of modelImage in modelInputImage</span>
<a name="l00282"></a><a class="code" href="classplanar__object__recognizer.html#77f5784073625c422ddf988278c4a06d">00282</a>   <span class="keywordtype">int</span> <a class="code" href="classplanar__object__recognizer.html#ccbcebb907c8727aa46b091d11475326">u_input_image</a>, <a class="code" href="classplanar__object__recognizer.html#77f5784073625c422ddf988278c4a06d">v_input_image</a>; <span class="comment">// up left corner of inputImage in modelInputImage</span>
<a name="l00284"></a>00284 <span class="comment"></span>
<a name="l00285"></a>00285   <span class="keywordtype">void</span> <a class="code" href="classplanar__object__recognizer.html#94cb4be815978d9c08fba737e248560d">check_target_size</a>(IplImage *<a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>);
<a name="l00286"></a>00286 };
<a name="l00287"></a>00287 
<a name="l00289"></a>00289 <span class="preprocessor">#endif // PLANAR_OBJECT_RECOGNIZER_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 17 16:17:17 2009 for bazar by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
