<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>bazar: /home/julian/devel/artvertiser/garfeild/keypoints/yape.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_1be09642b1728ac69a5f1a111e5847b4.html">garfeild</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_179441f46b36644b3554ebe468520e3e.html">keypoints</a>
  </div>
</div>
<div class="contents">
<h1>yape.h</h1><a href="yape_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">Copyright 2005, 2006 Computer Vision Lab, </span>
<a name="l00003"></a>00003 <span class="comment">Ecole Polytechnique Federale de Lausanne (EPFL), Switzerland. </span>
<a name="l00004"></a>00004 <span class="comment">All rights reserved.</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">This file is part of BazAR.</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">BazAR is free software; you can redistribute it and/or modify it under the</span>
<a name="l00009"></a>00009 <span class="comment">terms of the GNU General Public License as published by the Free Software</span>
<a name="l00010"></a>00010 <span class="comment">Foundation; either version 2 of the License, or (at your option) any later</span>
<a name="l00011"></a>00011 <span class="comment">version.</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">BazAR is distributed in the hope that it will be useful, but WITHOUT ANY</span>
<a name="l00014"></a>00014 <span class="comment">WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A</span>
<a name="l00015"></a>00015 <span class="comment">PARTICULAR PURPOSE. See the GNU General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">You should have received a copy of the GNU General Public License along with</span>
<a name="l00018"></a>00018 <span class="comment">BazAR; if not, write to the Free Software Foundation, Inc., 51 Franklin</span>
<a name="l00019"></a>00019 <span class="comment">Street, Fifth Floor, Boston, MA 02110-1301, USA </span>
<a name="l00020"></a>00020 <span class="comment">*/</span>
<a name="l00021"></a>00021 <span class="preprocessor">#ifndef YAPE_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#define YAPE_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;cv.h&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="starter_8h.html">starter.h</a>&gt;</span> 
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="keypoint_8h.html">keypoint.h</a>"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="yape_8h.html#874c06fd995c35f62a4c77c64b880164">00030</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="yape_8h.html#874c06fd995c35f62a4c77c64b880164">yape_max_radius</a> = 20;
<a name="l00031"></a>00031 
<a name="l00088"></a><a class="code" href="classyape.html">00088</a> <span class="keyword">class </span><a class="code" href="classyape.html" title="YAPE feature point detector.">yape</a>
<a name="l00089"></a>00089 {
<a name="l00090"></a>00090 <span class="keyword">public</span>:
<a name="l00092"></a>00092   <a class="code" href="classyape.html#43553da7a678361e2da1e50b62f13935" title="Constructor for detection in width x height images.">yape</a>(<span class="keywordtype">int</span> <a class="code" href="classyape.html#119bb646647df61e4c4bb65cdd30a1d5">width</a>, <span class="keywordtype">int</span> <a class="code" href="classyape.html#f61a8ac8e4ae6607713b5bd96a599a1e">height</a>);
<a name="l00093"></a>00093   <span class="keyword">virtual</span> <a class="code" href="classyape.html#957c1be85536678f28f2287c3d4095ec">~yape</a>();
<a name="l00094"></a>00094 
<a name="l00095"></a>00095   <span class="keywordtype">void</span> <a class="code" href="classyape.html#b39643035bebbf99f92d7541ab436e3a">set_radius</a>(<span class="keywordtype">int</span> <a class="code" href="classyape.html#173a51c019e578ae247d7db42e0c3cdf">radius</a>);
<a name="l00096"></a><a class="code" href="classyape.html#7d9ca746bcde1c419492371f9eca071f">00096</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#7d9ca746bcde1c419492371f9eca071f">get_radius</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> radius; }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098   <span class="keywordtype">void</span> <a class="code" href="classyape.html#7630435baca8d10aced14ab2b4d0c196">set_tau</a>(<span class="keywordtype">int</span> <a class="code" href="classyape.html#e49f2128c475e1c7ca0b647d5602ebba">tau</a>);
<a name="l00099"></a><a class="code" href="classyape.html#fbe315e59fec7811cdcfd4651b30e80b">00099</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#fbe315e59fec7811cdcfd4651b30e80b">get_tau</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="classyape.html#e49f2128c475e1c7ca0b647d5602ebba">tau</a>; }
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="classyape.html#1f6287666093d0b72c09b7b835f8728c">00101</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#1f6287666093d0b72c09b7b835f8728c">activate_bins</a>(<span class="keywordtype">void</span>) { <a class="code" href="classyape.html#99fef07b2c9c3fb197a3c6c9b3cc6607">set_use_bins</a>(<span class="keyword">true</span>); } <span class="comment">// Default</span>
<a name="l00102"></a><a class="code" href="classyape.html#a45c9e9f53af1b19a29763238e1bd06a">00102</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#a45c9e9f53af1b19a29763238e1bd06a">disactivate_bins</a>(<span class="keywordtype">void</span>) { <a class="code" href="classyape.html#99fef07b2c9c3fb197a3c6c9b3cc6607">set_use_bins</a>(<span class="keyword">false</span>); }
<a name="l00103"></a><a class="code" href="classyape.html#99fef07b2c9c3fb197a3c6c9b3cc6607">00103</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#99fef07b2c9c3fb197a3c6c9b3cc6607">set_use_bins</a>(<span class="keywordtype">bool</span> p_use_bins) { <a class="code" href="classyape.html#598d88c4bec37b5a0d37309c65c9c518">use_bins</a> = p_use_bins; }
<a name="l00104"></a><a class="code" href="classyape.html#f353e6c768c5628c8f0c6b19b2fd547b">00104</a>   <span class="keywordtype">bool</span> <a class="code" href="classyape.html#f353e6c768c5628c8f0c6b19b2fd547b">get_use_bins</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="classyape.html#598d88c4bec37b5a0d37309c65c9c518">use_bins</a>; }
<a name="l00105"></a><a class="code" href="classyape.html#94e152f6fe99a852c01e4a6dfdc4367e">00105</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#94e152f6fe99a852c01e4a6dfdc4367e">set_bins_number</a>(<span class="keywordtype">int</span> nb_u, <span class="keywordtype">int</span> nb_v) { <a class="code" href="classyape.html#41d6681f3187bff4bdd6a6c5a9f2a89b">bin_nb_u</a> = nb_u; <a class="code" href="classyape.html#c96236772c47a4d05da4bce2760a3857">bin_nb_v</a> = nb_v;}
<a name="l00106"></a>00106 
<a name="l00108"></a><a class="code" href="classyape.html#766d044f5dba1173dc25c850fb438185">00108</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#766d044f5dba1173dc25c850fb438185" title="Subpixel. Can be activated or disactived (default) for monoscale detection. Always...">activate_subpixel</a>(<span class="keywordtype">void</span>) { <a class="code" href="classyape.html#94efda0650f80db26d5777fb078a0255">set_use_subpixel</a>(<span class="keyword">true</span>); } 
<a name="l00109"></a><a class="code" href="classyape.html#6c2b9c2053195bb694b91ff1a5185349">00109</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#6c2b9c2053195bb694b91ff1a5185349">disactivate_subpixel</a>(<span class="keywordtype">void</span>) { <a class="code" href="classyape.html#94efda0650f80db26d5777fb078a0255">set_use_subpixel</a>(<span class="keyword">false</span>); } <span class="comment">// Default</span>
<a name="l00110"></a><a class="code" href="classyape.html#94efda0650f80db26d5777fb078a0255">00110</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#94efda0650f80db26d5777fb078a0255">set_use_subpixel</a>(<span class="keywordtype">bool</span> p_use_subpixel) { <a class="code" href="classyape.html#50848a2a1e31c7d890af776e8d31a67b">use_subpixel</a> = p_use_subpixel; }
<a name="l00111"></a>00111 
<a name="l00112"></a><a class="code" href="classyape.html#5a9d72e6e2027f270a1883d7122dffda">00112</a>   <span class="keywordtype">void</span> <a class="code" href="classyape.html#5a9d72e6e2027f270a1883d7122dffda">set_minimal_neighbor_number</a>(<span class="keywordtype">int</span> p_minimal_neighbor_number) { <a class="code" href="classyape.html#f35b3d8b6630041fd41e67ca584e55bb">minimal_neighbor_number</a> = p_minimal_neighbor_number;} 
<a name="l00113"></a><a class="code" href="classyape.html#dc9dc6946d8c85d45075ce1ec51d4ad3">00113</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#dc9dc6946d8c85d45075ce1ec51d4ad3">get_minimal_neighbor_number</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="classyape.html#f35b3d8b6630041fd41e67ca584e55bb">minimal_neighbor_number</a>; } 
<a name="l00114"></a>00114 
<a name="l00115"></a>00115   <span class="keywordtype">int</span> <a class="code" href="classyape.html#be06c02e6b77150ac03766158064e85d">detect</a>(IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> * points, <span class="keywordtype">int</span> max_point_number, IplImage * smoothed_image = 0);
<a name="l00116"></a>00116 
<a name="l00118"></a>00118   <span class="keywordtype">void</span> <a class="code" href="classyape.html#e6308aa6b883f57a3fa7bd0c548d1d7a" title="detect interest points and add them to tmp_points.">raw_detect</a>(IplImage *im);
<a name="l00119"></a>00119 
<a name="l00121"></a>00121   <span class="keywordtype">int</span> <a class="code" href="classyape.html#f362d61fb20ed46554374d6288f23175" title="sort and select the max_point_number best features.">pick_best_points</a>(<a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> * points, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_point_number);
<a name="l00122"></a>00122 
<a name="l00124"></a>00124   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classyape.html#55c02375d9d672b31626006f0f02c3bd" title="Static function for point detection. Slower but avoids an instantiation.">static_detect</a>(IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> * points, <span class="keywordtype">int</span> max_point_number, <span class="keywordtype">int</span> radius = 7, <span class="keywordtype">int</span> <a class="code" href="classyape.html#e49f2128c475e1c7ca0b647d5602ebba">tau</a> = 10);
<a name="l00125"></a>00125 
<a name="l00127"></a>00127   <span class="keywordtype">void</span> <a class="code" href="classyape.html#67f813e2f3a86941d8affc5efd03aca8" title="Save a color image with the detected points on the original image. Useful for visualisation...">save_image_of_detected_points</a>(<span class="keywordtype">char</span> * name, IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> * points, <span class="keywordtype">int</span> points_nb);
<a name="l00128"></a>00128 
<a name="l00130"></a><a class="code" href="classyape.html#1eb64a23d0486dea40c9190e9c811e36">00130</a>   IplImage * <a class="code" href="classyape.html#1eb64a23d0486dea40c9190e9c811e36" title="Return scores and filtered images, for debugging purposes.">get_scores_image</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="classyape.html#b3468550e58146f30223abdd05e0b70f">scores</a>; }
<a name="l00131"></a><a class="code" href="classyape.html#21aa9333bc8d681e92a7634b33a262ec">00131</a>   IplImage * <a class="code" href="classyape.html#21aa9333bc8d681e92a7634b33a262ec">get_filtered_image</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="classyape.html#19e262558ad9f0f1273dca90f0f392e7">filtered_image</a>; }
<a name="l00132"></a>00132 
<a name="l00133"></a>00133   <span class="keywordtype">void</span> <a class="code" href="classyape.html#68311f372ad969d27228f0cd01e55310">subpix_refine</a>(IplImage *im, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> *p);
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="keyword">protected</span>:
<a name="l00136"></a>00136   <span class="keywordtype">void</span> <a class="code" href="classyape.html#52bc96b62aca4025bd6f1a3a4525cf6d">reserve_tmp_arrays</a>(<span class="keywordtype">void</span>);
<a name="l00137"></a>00137 
<a name="l00138"></a>00138   <span class="keywordtype">int</span> <a class="code" href="classyape.html#885bc853270ce86bba10f9617dbe0f2d">get_local_maxima</a>(IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <span class="keywordtype">int</span> R, <span class="keywordtype">float</span> scale <span class="comment">/*, keypoint * points, int max_point_number */</span>);
<a name="l00139"></a>00139 
<a name="l00140"></a>00140   <span class="keywordtype">void</span> <a class="code" href="classyape.html#55f0d32d90437ba7f0445caac2c18ac7">perform_one_point</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * I, <span class="keyword">const</span> <span class="keywordtype">int</span> x, <span class="keywordtype">short</span> * Scores,
<a name="l00141"></a>00141     <span class="keyword">const</span> <span class="keywordtype">int</span> Im, <span class="keyword">const</span> <span class="keywordtype">int</span> Ip, 
<a name="l00142"></a>00142     <span class="keyword">const</span> <span class="keywordtype">short</span> * dirs, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> opposite, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dirs_nb);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="keywordtype">bool</span> <a class="code" href="classyape.html#ffc2979fd7c28b2380326f4bd1c1ec36">double_check</a>(IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">short</span> * dirs, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> dirs_nb);
<a name="l00145"></a>00145   <span class="keywordtype">bool</span> <a class="code" href="classyape.html#0a8b33901efe60a647c7ad66587f99a6">third_check</a>(<span class="keyword">const</span> <span class="keywordtype">short</span> * Sb, <span class="keyword">const</span> <span class="keywordtype">int</span> next_line);
<a name="l00146"></a><a class="code" href="classyape.html#f35b3d8b6630041fd41e67ca584e55bb">00146</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#f35b3d8b6630041fd41e67ca584e55bb">minimal_neighbor_number</a>;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148   <span class="keywordtype">void</span> <a class="code" href="classyape.html#170b352e90f4f55e1ac5b5a87aa801f6">precompute_directions</a>(IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <span class="keywordtype">short</span> * _Dirs, <span class="keywordtype">int</span> * _Dirs_nb, <span class="keywordtype">int</span> R);
<a name="l00149"></a>00149   <span class="keywordtype">void</span> <a class="code" href="classyape.html#4924657a429d2ac67ca91be4189e1f31">init_for_monoscale</a>(<span class="keywordtype">void</span>);
<a name="l00150"></a>00150 
<a name="l00151"></a>00151   <span class="comment">// Image size:</span>
<a name="l00152"></a><a class="code" href="classyape.html#119bb646647df61e4c4bb65cdd30a1d5">00152</a>   <span class="keywordtype">int</span> width, height;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154   <span class="comment">// Radius: scale parameter for point detection</span>
<a name="l00155"></a><a class="code" href="classyape.html#173a51c019e578ae247d7db42e0c3cdf">00155</a>   <span class="keywordtype">int</span> radius;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157   <span class="comment">// Tau: threshold to decide if two intensities are similar.</span>
<a name="l00158"></a><a class="code" href="classyape.html#e49f2128c475e1c7ca0b647d5602ebba">00158</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#e49f2128c475e1c7ca0b647d5602ebba">tau</a>;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160   <span class="comment">// Directions:</span>
<a name="l00161"></a><a class="code" href="structyape_1_1dir__table.html">00161</a>   <span class="keyword">struct </span><a class="code" href="structyape_1_1dir__table.html">dir_table</a> {
<a name="l00162"></a><a class="code" href="structyape_1_1dir__table.html#18fe9092f27f50057891f62b6e4bf906">00162</a>     <span class="keywordtype">short</span> <a class="code" href="structyape_1_1dir__table.html#18fe9092f27f50057891f62b6e4bf906">t</a>[<a class="code" href="yape_8h.html#874c06fd995c35f62a4c77c64b880164">yape_max_radius</a>][1024];
<a name="l00163"></a>00163   };
<a name="l00164"></a><a class="code" href="classyape.html#6a57527a8a0c8e41317549015a198cd8">00164</a>   <a class="code" href="structyape_1_1dir__table.html">dir_table</a> *<a class="code" href="classyape.html#6a57527a8a0c8e41317549015a198cd8">Dirs</a>;
<a name="l00165"></a><a class="code" href="classyape.html#82e9bd81eb5cd0b077cc81059a744935">00165</a>   <span class="keywordtype">int</span> *<a class="code" href="classyape.html#82e9bd81eb5cd0b077cc81059a744935">Dirs_nb</a>;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167   <span class="comment">// For keypoint sorting:</span>
<a name="l00168"></a><a class="code" href="classyape.html#b00e9b1a11cd452dead6b8ec8cff8443">00168</a>   <span class="keyword">typedef</span> std::vector&lt;keypoint&gt; <a class="code" href="classyape.html#b00e9b1a11cd452dead6b8ec8cff8443">keypoint_vector</a>;
<a name="l00169"></a><a class="code" href="classyape.html#7043625f249116e3258a0ff02829b479">00169</a>   <a class="code" href="classyape.html#b00e9b1a11cd452dead6b8ec8cff8443">keypoint_vector</a> <a class="code" href="classyape.html#7043625f249116e3258a0ff02829b479">tmp_points</a>;
<a name="l00170"></a>00170 
<a name="l00171"></a>00171   <span class="comment">// Bins etc:</span>
<a name="l00172"></a><a class="code" href="classyape.html#598d88c4bec37b5a0d37309c65c9c518">00172</a>   <span class="keywordtype">bool</span> <a class="code" href="classyape.html#598d88c4bec37b5a0d37309c65c9c518">use_bins</a>;
<a name="l00173"></a><a class="code" href="classyape.html#ce9a94d167d0edc352e5b1a4e9603834">00173</a>   <a class="code" href="classyape.html#b00e9b1a11cd452dead6b8ec8cff8443">keypoint_vector</a> <a class="code" href="classyape.html#ce9a94d167d0edc352e5b1a4e9603834">bins</a>[10][10];
<a name="l00174"></a><a class="code" href="classyape.html#c96236772c47a4d05da4bce2760a3857">00174</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#41d6681f3187bff4bdd6a6c5a9f2a89b">bin_nb_u</a>, <a class="code" href="classyape.html#c96236772c47a4d05da4bce2760a3857">bin_nb_v</a>;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176   <span class="comment">// Subpixel (always 'on' for pyramidal version)</span>
<a name="l00177"></a><a class="code" href="classyape.html#50848a2a1e31c7d890af776e8d31a67b">00177</a>   <span class="keywordtype">bool</span> <a class="code" href="classyape.html#50848a2a1e31c7d890af776e8d31a67b">use_subpixel</a>;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <span class="comment">// Intermediate images:</span>
<a name="l00180"></a><a class="code" href="classyape.html#b3468550e58146f30223abdd05e0b70f">00180</a>   IplImage * <a class="code" href="classyape.html#b3468550e58146f30223abdd05e0b70f">scores</a>, * <a class="code" href="classyape.html#19e262558ad9f0f1273dca90f0f392e7">filtered_image</a>;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182   <span class="comment">// For statistics in the Finite State Machine:</span>
<a name="l00183"></a><a class="code" href="classyape.html#d3f0befa9dfa4f0d00743e40934bdaa3">00183</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#d3f0befa9dfa4f0d00743e40934bdaa3">stats_state</a>[100], <a class="code" href="classyape.html#a3d82df92c54f1d76a73d2225aae28cc">stats_iter</a>[100];
<a name="l00184"></a>00184 
<a name="l00185"></a>00185   <span class="comment">// For the Finite State Machine:</span>
<a name="l00186"></a><a class="code" href="classyape.html#c4ce5a5ee7bc62a9df4298bdf1b789d8">00186</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#c4ce5a5ee7bc62a9df4298bdf1b789d8">score</a>;
<a name="l00187"></a><a class="code" href="classyape.html#bfd1bc19abfdd9b30f2ba2f766f287b3">00187</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#0fb49f3c030a765cbbeb2826110d78d8">a</a>, <a class="code" href="classyape.html#bfd1bc19abfdd9b30f2ba2f766f287b3">b</a>;
<a name="l00188"></a><a class="code" href="classyape.html#97718a5093ac51a1edc9448b813f7111">00188</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#9c2d0562b689e085607be419841f8343">A</a>, <a class="code" href="classyape.html#49e38d3255a726caf04bb3edb00503c4">B0</a>, <a class="code" href="classyape.html#c51555bb80a842b21b261f21d99a2a26">B1</a>, <a class="code" href="classyape.html#97718a5093ac51a1edc9448b813f7111">B2</a>;
<a name="l00189"></a><a class="code" href="classyape.html#593e558c9bd630ccecab0b178c8c457f">00189</a>   <span class="keywordtype">int</span> <a class="code" href="classyape.html#593e558c9bd630ccecab0b178c8c457f">state</a>;
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="classyape.html#4260d54eca2a006b5a0440d790bfdfb6">00191</a>   CvMat * <a class="code" href="classyape.html#4260d54eca2a006b5a0440d790bfdfb6">H</a>;
<a name="l00192"></a><a class="code" href="classyape.html#7541d8a723d20d771b090504907a5241">00192</a>   CvMat * <a class="code" href="classyape.html#7541d8a723d20d771b090504907a5241">mg</a>;
<a name="l00193"></a><a class="code" href="classyape.html#89ab9b825b057f032922eccc62f76343">00193</a>   CvMat * <a class="code" href="classyape.html#89ab9b825b057f032922eccc62f76343">shift</a>;
<a name="l00194"></a>00194 };
<a name="l00195"></a>00195 
<a name="l00197"></a>00197 
<a name="l00200"></a><a class="code" href="classpyr__yape.html">00200</a> <span class="keyword">class </span><a class="code" href="classpyr__yape.html" title="Pyramidal YAPE (Feature point extractor).">pyr_yape</a> : <span class="keyword">public</span> <a class="code" href="classyape.html" title="YAPE feature point detector.">yape</a> {
<a name="l00201"></a>00201 <span class="keyword">public</span>:
<a name="l00202"></a>00202   <a class="code" href="classpyr__yape.html#850481cc73f6c0282047945b3925e787">pyr_yape</a>(<span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keywordtype">int</span> nbLev);
<a name="l00203"></a>00203   <span class="keyword">virtual</span> <a class="code" href="classpyr__yape.html#9aff9c35997e352d8a5ef9a46e5750a0">~pyr_yape</a>();
<a name="l00204"></a>00204 
<a name="l00206"></a>00206   <span class="keywordtype">int</span> <a class="code" href="classpyr__yape.html#4d2c94707fdaf5e72e7f9e9a9cbbb314" title="Blur the given image, build a pyramid and call detect().">pyramidBlurDetect</a>(IplImage *im, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> *points, <span class="keywordtype">int</span> max_point_number, <a class="code" href="classPyrImage.html" title="Multi-resolution pyramidal image.">PyrImage</a> *caller_pim = 0);
<a name="l00207"></a>00207 
<a name="l00209"></a><a class="code" href="classpyr__yape.html#69e1c1bd2b024079637fd5328471cfb1">00209</a>   <span class="keywordtype">int</span> <a class="code" href="classpyr__yape.html#69e1c1bd2b024079637fd5328471cfb1" title="Call pyramidBlurDetect():.">detect</a>(IplImage *im, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> *points, <span class="keywordtype">int</span> max_point_number)
<a name="l00210"></a>00210   {
<a name="l00211"></a>00211     <span class="keywordflow">return</span> <a class="code" href="classpyr__yape.html#4d2c94707fdaf5e72e7f9e9a9cbbb314" title="Blur the given image, build a pyramid and call detect().">pyramidBlurDetect</a>(im, points, max_point_number);
<a name="l00212"></a>00212   }
<a name="l00213"></a>00213 
<a name="l00215"></a>00215   <span class="keywordtype">int</span> <a class="code" href="classpyr__yape.html#69e1c1bd2b024079637fd5328471cfb1" title="Call pyramidBlurDetect():.">detect</a>(<a class="code" href="classPyrImage.html" title="Multi-resolution pyramidal image.">PyrImage</a> * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> * points, <span class="keywordtype">int</span> max_point_number);
<a name="l00216"></a>00216 
<a name="l00218"></a>00218   <span class="keywordtype">void</span> <a class="code" href="classpyr__yape.html#8dcc2d06f5e976930f3bf3b927300528" title="Save a color image with the detected points on the original image. Useful for visualisation...">save_image_of_detected_points</a>(<span class="keywordtype">char</span> * name, IplImage * <a class="code" href="artvertiser_8cpp.html#50c401d9f2e3a164c7d3dceb70b18771">image</a>, <a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> * points, <span class="keywordtype">int</span> points_nb);
<a name="l00219"></a>00219 
<a name="l00221"></a>00221   <span class="keywordtype">void</span> <a class="code" href="classpyr__yape.html#cf605689b69831a7c7c5923fad399617" title="compute and print on stdout a keypoint scale histogram.">stat_points</a>(<a class="code" href="classkeypoint.html" title="A 2D feature point as detected by a point detector (yape for example).">keypoint</a> *points, <span class="keywordtype">int</span> nb_pts);
<a name="l00222"></a>00222   
<a name="l00223"></a>00223 <span class="comment">//protected:</span>
<a name="l00224"></a><a class="code" href="classpyr__yape.html#b812538a04a4586cb4d04d75ab193f1f">00224</a>   <a class="code" href="classPyrImage.html" title="Multi-resolution pyramidal image.">PyrImage</a> *<a class="code" href="classpyr__yape.html#b812538a04a4586cb4d04d75ab193f1f">internal_pim</a>; <span class="comment">//&lt; pyramid image, recylcled for each frame</span>
<a name="l00225"></a><a class="code" href="classpyr__yape.html#4ca91e38c164e6afcf1f40e3e0dcbacb">00225</a>   <a class="code" href="classPyrImage.html" title="Multi-resolution pyramidal image.">PyrImage</a> *<a class="code" href="classpyr__yape.html#4ca91e38c164e6afcf1f40e3e0dcbacb">pscores</a>;
<a name="l00226"></a><a class="code" href="classpyr__yape.html#a115117ab1af1f6f1d251c0bf1584e68">00226</a>   dir_table *<a class="code" href="classpyr__yape.html#a115117ab1af1f6f1d251c0bf1584e68">pDirs</a>[12];
<a name="l00227"></a><a class="code" href="classpyr__yape.html#8fd9eace87fa04b59cb2ae362df9f3a4">00227</a>   <span class="keywordtype">int</span> *<a class="code" href="classpyr__yape.html#8fd9eace87fa04b59cb2ae362df9f3a4">pDirs_nb</a>[12];
<a name="l00228"></a>00228 
<a name="l00230"></a><a class="code" href="classpyr__yape.html#b505183795c219c54f2f92bf70970868">00230</a>   <span class="keywordtype">bool</span> <a class="code" href="classpyr__yape.html#b505183795c219c54f2f92bf70970868" title="Limit the maximum number of detected keypoint per level.">equalize</a>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232   <span class="keywordtype">void</span> <a class="code" href="classpyr__yape.html#c0ff6d645029953f0e4a1e18d04ce208">select_level</a>(<span class="keywordtype">int</span> l);
<a name="l00233"></a>00233 };
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="preprocessor">#endif // YAPE_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 17 16:17:17 2009 for bazar by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
